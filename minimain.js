class Ajax{ajaxPath=null;asynchronousState=!0;callPage(e,t,a){let n=new XMLHttpRequest;return n.onreadystatechange=()=>{if(4==n.readyState&&200==n.status){let e=n.responseText;a(e)}else 4==n.readyState&&n.status},this.sendPageRequest(e,t,n),n}sendPageRequest(e,t,a){"GET"==e.toUpperCase()?(a.open(e,t,this.asynchronousState),a.send()):"POST"==e.toUpperCase()&&(a.open(e,t,this.asynchronousState),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.send())}}class Link{pageLoader;pathName="";constructor(){this.pageLoader=new PageLoader}make(e){return this.pathName+e}click(e,t,a){t&&(e=this.make(e)),this.pageLoader.loadPage(e,t,a)}}class PageLoader{activePageLink;activePage;handleState(e,t,a){t&&history.pushState(e,document.title,e),window.onpopstate=e=>{history.replaceState(e.state,document.title,document.location),null!==e.state&&(null==a?main.link.click(main.link.click("/",!0,main.navigation),!1,main.navigation):main.link.click(e.state,!1,a))}}loadPage(e,t,a){this.activePage=main.pageChanger.currentPage,main.pageChanger.changeTo(a),this.activePageLink!==e&&(main.ajax.callPage("GET",e,(t=>{t=(new DOMParser).parseFromString(t,"text/html"),document.title=t.title,document.getElementsByClassName("contentContainer")[0].innerHTML=t.body.children[2].innerHTML,pricesShown=!1,resetScroll(),this.activePageLink=e})),this.handleState(e,t,this.activePage))}}class PageChanger{pages;currentPage;previousPage;constructor(e){this.pages=e}changeTo(e){this.previousPage=this.currentPage,this.currentPage=e}}class Main{ajax=new Ajax;link=new Link;pageLoader=new PageLoader;oversigt="Oversigt";service="Service";produkter="Produkter";omos="Om os";presse="Presse";kontakt="Kontakt";pageChanger=new PageChanger([this.oversigt,this.service,this.produkter,this.omos,this.presse,this.kontakt])}let activePage=null,pricesShown=!1;function togglePrices(){document.getElementById("prices").style.display=pricesShown?"none":"block",pricesShown=!pricesShown}function resetScroll(){window.innerWidth<=700?window.scrollTo(0,775):window.scrollTo(0,0)}let main=null;document.onreadystatechange=function(){document.readyState,"complete"===document.readyState&&(main=new Main)};